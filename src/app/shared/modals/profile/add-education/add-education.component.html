<div class="modal-header">
  <h4 class="modal-title" id="modal-basic-title">Manage Education</h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">  
  <div class="row">
    <div class="col-sm-12">
      <h5 *ngIf="!addingEducation">Your Education <br> <br></h5> 
      <p *ngIf="isLoading">loading...</p>
      <div *ngIf="!addingEducation">
        <div *ngFor="let edu of educationList" class="work-card">
          <p>
            {{edu.courseOfStudy}} ({{edu.university.universityName}})
          </p>
          <p>From: {{edu.startDate}} </p>
          <p>To: {{edu.endDate}} </p>
          <button type="button" class="pull-right icon-red clear-btn" (click)="deleteEducation(edu.id)">
            <span class="fa fa-trash"></span>
          </button>
        </div>
      </div> 
        <div  *ngIf="addingEducation" class="card">
            <div class="card-body">                
                <div class="row col-sm-12" style="margin-top: 20px">
                    <ngb-alert *ngIf="responseMessage" [type]="messageType" (close)="responseMessage = null">{{ responseMessage }}</ngb-alert>   
                </div>
                <div class="col-sm-12">                                      
                      <div class="form-group row ">
                          <div class="col-3">
                            <div class="col-12 ">
                              <p class="modal-lbl">School</p>
                            </div>
                          </div>
                          <div class="col-9">
                            <div class="col-12 ">
                                <fieldset class="border p-2">
                                    <legend  class="w-auto">Name of school</legend>                                
                                    <input class="form-control form-control-md fieldset-input" [(ngModel)]="str" (ngModelChange)="filterUniversities(str)" type="text" required=" " placeholder="Name of school">
                                </fieldset>
                                <div *ngIf="filteredUniversities && filteredUniversities.length > 0" class="filteredcontainer">
                                  <p *ngFor="let u of filteredUniversities" (click)="selectUniversity(u)">
                                    {{u.universityName}}
                                  </p>
                                </div>
                              </div>
                          </div>
                      </div>
                      <div class="form-group row">
                          <div class="col-3">
                            <div class="col-12 ">
                              <p class="modal-lbl">Degree</p>
                            </div>
                          </div>
                          <div class="col-5">
                            <div class="col-12 ">
                                <fieldset class="border p-2">
                                    <legend  class="w-auto">Degree</legend>                                                                                         
                                    <select class="form-control legend-select" id="selectState" [(ngModel)]="form.levelOfStudy">
                                        <option *ngFor="let level of levels" [value]="level">{{ level}}</option>
                                    </select>   
                                    <!-- <input class="form-control form-control-md fieldset-input" [(ngModel)]="form.levelOfStudy" type="text" required=" " > -->
                                </fieldset>
                              </div>
                          </div>
                          <div class="col-4">
                            <div class="col-12 ">
                                <fieldset class="border p-2">
                                    <legend  class="w-auto">Field of study</legend>                                
                                    <input class="form-control form-control-md fieldset-input" [(ngModel)]="form.courseOfStudy" type="text" required=" ">
                                </fieldset>
                              </div>
                          </div>
                      </div>
                      <div class="form-group row">
                          <div class="col-3">
                            <div class="col-12 ">
                              <p class="modal-lbl">Year of study</p>
                            </div>
                          </div>
                          <div class="col-5">
                            <div class="col-12 ">
                                <fieldset class="border p-2">
                                    <legend  class="w-auto">Date Started</legend>                                
                                    <input class="form-control form-control-md fieldset-input" [(ngModel)]="form.stateDate" ngbDatepicker #d3="ngbDatepicker" (click)="d3.toggle()" type="text" required=" " placeholder="DD-MM-YYYY">
                                </fieldset>
                              </div>
                          </div>
                          <div class="col-4">
                            <div class="col-12 ">
                                <fieldset class="border p-2">
                                    <legend  class="w-auto">Date Left</legend>                                                               
                                    <input class="form-control form-control-md fieldset-input" [(ngModel)]="form.endDate" ngbDatepicker #d4="ngbDatepicker" (click)="d4.toggle()" type="text" required=" " placeholder="DD-MM-YYYY">
                                </fieldset>
                              </div>
                          </div>
                      </div>
              </div>
            </div>
        </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-rounded btn-2" (click)="modal.close('Close click')">Cancel</button>
  <button *ngIf="addingEducation" type="button" class="btn btn-rounded btn-1" (click)="onSubmit()">Save changes</button>
  <button *ngIf="!addingEducation" type="button" class="btn btn-rounded btn-1" (click)="toggleAdding()">Add Education</button>
</div>